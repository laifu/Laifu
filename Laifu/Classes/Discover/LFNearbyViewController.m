////  LFNearbyViewController.m//  Laifu////  Created by 于 龙 on 13-7-21.//  Copyright (c) 2013年 于龙. All rights reserved.//#import "LFNearbyViewController.h"#import "DefineRequestUrl.h"@interface LFNearbyViewController ()@end@implementation LFNearbyViewController- (id)initWithNibName:(NSString *)nibNameOrNil bundle:(NSBundle *)nibBundleOrNil{    self = [super initWithNibName:nibNameOrNil bundle:nibBundleOrNil];    if (self) {        // Custom initialization    }    return self;}- (void)viewDidLoad{    [super viewDidLoad];    self.navigationController.navigationBar.tintColor = [UIColor hexStringToColor:@"#fafafa" alpha:0.97];    self.view.backgroundColor = kAllBackgroundColor;    [self createNavigationBar];        self.activitesArray = [NSMutableArray array];    for (NSInteger i = 0; i < 20; i++) {        LFActivity *activity = [[LFActivity alloc] init];        activity.imageURL =  @"http://c.hiphotos.bdimg.com/album/w%3D2048/sign=af68f9174610b912bfc1f1fef7c5fd03/d043ad4bd11373f0e07bd133a50f4bfbfaed04d1.jpg";        activity.title = [NSString stringWithFormat:@"查看附近查看附近查看附近查看附近查看附近%d",i * 1000];        activity.memberCount = i * 2000;        activity.travelCount = i * 3000;        activity.randomColor = (i % 2 == 0) ? @"#33b5b7" : @"#e0dfdf";        [self.activitesArray addObject:activity];        [activity release];    }        [self createTableView];}- (void)createNavigationBar {        UIView *titleView = [[UIView alloc] initWithFrame:CGRectMake(0, 0, 320, 44)];    titleView.backgroundColor = [UIColor clearColor];        UILabel *title = [[UILabel alloc] initWithFrame:CGRectMake(115, 7, 80, 29)];    title.backgroundColor = [UIColor clearColor];    //    title.font = [UIFont systemFontOfSize:16.0f];    title.textAlignment = UITextAlignmentCenter;    title.text = @"查看附近";    [titleView addSubview:title];    [title release];        UIButton *closeBtn = [UIButton buttonWithType:UIButtonTypeCustom];    closeBtn.frame = CGRectMake(270, 7, 30, 30);    [closeBtn setShowsTouchWhenHighlighted:YES];    [closeBtn setBackgroundImage:[UIImage imageNamed:@"gb_btn.png"] forState:UIControlStateNormal];    [closeBtn addTarget:self action:@selector(closeBtnClicked:) forControlEvents:UIControlEventTouchUpInside];    [titleView addSubview:closeBtn];        self.navigationItem.titleView = titleView;}- (void)createTableView {        _tableView = [[UITableView alloc] initWithFrame:CGRectMake(0,0, self.view.bounds.size.width,kHeight-64) style:UITableViewStylePlain];    [_tableView setBackgroundView:nil];    _tableView.backgroundColor = [UIColor clearColor];    _tableView.separatorStyle = UITableViewCellSeparatorStyleNone;    _tableView.delegate = self;    _tableView.dataSource = self;    [self.view addSubview:_tableView];    [_tableView release];}#pragma mark - Table view data source- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{    return 1;}- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{    return self.activitesArray.count;}- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{    static NSString *CellIdentifier = @"Cell";    LFActivityCell *cell = (LFActivityCell *)[tableView dequeueReusableCellWithIdentifier:CellIdentifier];    if (cell == nil) {        cell = [[[LFActivityCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];        cell.selectionStyle = UITableViewCellSelectionStyleNone;    }        cell.activity = [self.activitesArray objectAtIndex:indexPath.row];        // Configure the cell...        return cell;}- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {    return 268 / 2.0f;}#pragma mark - Table view delegate- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{    [tableView deselectRowAtIndexPath:indexPath animated:YES];}- (void)closeBtnClicked:(id)sender {    [self.navigationController.view removeFromSuperview];}- (void)didReceiveMemoryWarning{    [super didReceiveMemoryWarning];    // Dispose of any resources that can be recreated.}@end