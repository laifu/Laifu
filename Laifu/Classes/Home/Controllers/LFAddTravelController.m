////  LFAddTravelController.m//  Laifu////  Created by qingsong on 13-7-24.//  Copyright (c) 2013年 于龙. All rights reserved.//#import "LFAddTravelController.h"#import "DMCustomModalViewController.h"#import "LFTitleView.h"#import "LFASingleTrip.h"#import "LFSingleTripCell.h"#import "LFSingleTripAddCell.h"@interface LFAddTravelController ()@property (nonatomic, retain) NSMutableArray *trips;@end@implementation LFAddTravelController- (id)initWithStyle:(UITableViewStyle)style{    self = [super initWithStyle:style];    if (self) {        // Custom initialization        self.trips = [NSMutableArray array];        for (NSInteger i = 0; i < 4; i++) {            LFASingleTrip *trip = [[LFASingleTrip alloc] init];            trip.headURL = @"http://a.hiphotos.baidu.com/baike/pic/item/8718367adab44aedf6eabc6bb31c8701a08bfb9d.jpg";            trip.title = @"李宇春2013年Why me演唱会李宇春2013年Why me演唱会";            NSLog(@"123");            [self.trips addObject:trip];            [trip release];        }            }    return self;}- (void)viewDidLoad{    [super viewDidLoad];        [self setupUI];}- (void)didReceiveMemoryWarning{    [super didReceiveMemoryWarning];}#pragma mark - Table view data source- (NSInteger)numberOfSectionsInTableView:(UITableView *)tableView{    return 1;}- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section{    return self.trips.count + 1;}- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath{    static NSString *CellIdentifier = @"Cell";    static NSString *CellIdentifierAdd = @"CellAdd";        if (indexPath.row == 0) {        LFSingleTripAddCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifierAdd];        if (cell == nil) {            cell = [[[LFSingleTripAddCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifierAdd] autorelease];            cell.selectionStyle = UITableViewCellSelectionStyleNone;        }                cell.title = NSLocalizedString(@"创建行程单", @"");        cell.subTitle = NSLocalizedString(@"创建", @"");                return cell;    }        LFSingleTripCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];    if (cell == nil) {        cell = [[[LFSingleTripCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier] autorelease];        cell.selectionStyle = UITableViewCellSelectionStyleNone;    }        cell.singleTrip = self.trips[indexPath.row - 1];            return cell;}- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath {    return 60.0f;}#pragma mark - Table view delegate- (void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{    }#pragma mark - Private - (void)setupUI {    LFTitleView *titleView = [[LFTitleView alloc] initWithFrame:CGRectMake(0, 0, 100, 44.0f)];    titleView.title = NSLocalizedString(@"添加行程到", @"");    self.navigationItem.titleView = titleView;    [titleView release];        UIButton *leftButton = [UIButton buttonWithType:UIButtonTypeCustom];    [leftButton setTitle:NSLocalizedString(@"取消", @"") forState:UIControlStateNormal];    [leftButton setTitleColor:[UIColor hexStringToColor:@"#000000" alpha:1.0f] forState:UIControlStateNormal];    [leftButton.titleLabel setFont:[UIFont systemFontOfSize:14.0f]];    [leftButton setFrame:CGRectMake(0, 0, 50, 30)];    [leftButton addTarget:self action:@selector(clickedCancelButton:) forControlEvents:UIControlEventTouchUpInside];    [leftButton.layer setBorderColor:[UIColor hexStringToColor:@"#000000" alpha:1.0f].CGColor];    [leftButton.layer setBorderWidth:1.0f];        UIBarButtonItem *leftItem = [[UIBarButtonItem alloc] initWithCustomView:leftButton];    self.navigationItem.leftBarButtonItem = leftItem;    [leftItem release];        self.navigationController.navigationBar.tintColor = [UIColor hexStringToColor:@"#fafafa" alpha:0.97];    self.tableView.backgroundColor = [UIColor hexStringToColor:@"#e5e5e5" alpha:1.0f];    self.tableView.separatorStyle = UITableViewCellSeparatorStyleNone;    }- (void)clickedCancelButton:(UIButton *)sender {    [self.customModalViewController dismissRootViewControllerWithcompletion:^{            }];}@end